{"is_source_file": true, "format": "JavaScript", "description": "This file is a server-side script written in JavaScript using Node.js and Express. It provides an API to connect to multiple databases (PostgreSQL, MySQL, SQLite, MongoDB), load environment configurations, define database adapters, and serve static files along with API endpoints for database metadata and data retrieval.", "external_files": ["public/index.html", "postgres.env", "mysql.env", "sqlite.env", "mongodb.env"], "external_methods": ["fs.existsSync", "fs.readFileSync", "console.log", "path.join", "app.use", "app.get", "res.sendFile", "res.json", "res.status", "new Pool", "mysql.createConnection", "new sqlite3.Database", "new MongoClient"], "published": ["app", "loadEnvFiles", "testConnections", "handleApiRequest"], "classes": [{"name": "DatabaseAdapter", "description": "Base class defining interface for database operations such as connection testing, retrieving tables, and fetch data."}, {"name": "SQLAdapter", "description": "Abstract class extending DatabaseAdapter with common SQL execution methods."}, {"name": "PostgresAdapter", "description": "Implementation of DatabaseAdapter for PostgreSQL, executing queries via node-postgres Pool."}, {"name": "MySQLAdapter", "description": "Implementation of DatabaseAdapter for MySQL, executing queries using mysql2 library."}, {"name": "SQLiteAdapter", "description": "Implementation of DatabaseAdapter for SQLite, executing queries using sqlite3 library."}, {"name": "MongoDBAdapter", "description": "Implementation of DatabaseAdapter for MongoDB, connecting using mongodb library and performing collection operations."}], "methods": [{"name": "loadEnvFiles", "description": "Loads environment variables from environment-specific .env files for each database type."}, {"name": "testConnections", "description": "Tests connectivity to all configured databases and logs results."}, {"name": "handleApiRequest", "description": "Generic helper to handle API requests for database operations, executing asynchronously."}], "calls": ["fs.existsSync", "fs.readFileSync", "console.log", "app.use", "app.get", "res.sendFile", "res.json", "res.status", "loadEnvFiles", "testConnections", "handleApiRequest", "new Pool", "mysql.createConnection", "new sqlite3.Database", "new MongoClient", "adapter.getTables", "adapter.getData"], "search-terms": ["server.js", "express", "database adapters", "multi-db support", "load environment configs", "API endpoints for DB metadata", "Node.js database visualizer"], "state": 2, "file_id": 2, "knowledge_revision": 11, "git_revision": "0745682349160aa42099f290416b0d3d9abf268e", "ctags": [], "hash": "d3a58b00b5e1c9d4d0c85088f37ad23d", "format-version": 4, "code-base-name": "usage_telemetry_database", "filename": "usage_telemetry_database/db_visualizer/server.js", "revision_history": [{"11": "0745682349160aa42099f290416b0d3d9abf268e"}]}